<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Я &hearts; SVG</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=680, user-scalable=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="stylesheet" href="node_modules/shower-bright/styles/screen.css">
    <link rel="stylesheet" href="assets/_/slides.css">
    <script src="assets/_/icons.js"></script>
</head>
<body class="full">
    <div id="svg-icon-placeholder"></div>
    <script>document.getElementById('svg-icon-placeholder').innerHTML = SVG_ICON;</script>

    <section class="slide shout intro"><div>
        <span class="intro__trigger next"></span>
        <h2>
            <span class="main-title">
                Я<span class="main-title__space"> </span><span class="main-heart">
                    <span class="main-heart__trigger_scale next"></span>
                    <span class="main-heart__trigger_rotate next"></span>
                    <span class="main-heart__trigger_color next"></span>
                    <span class="main-heart__trigger_pattern next"></span>
                    <span class="main-heart__trigger_white next"></span>
                    <svg class="main-heart__icon" xmlns="http://www.w3.org/2000/svg">
                        <title>&hearts;</title>
                        <defs>
                            <pattern id="heart-pattern" x="0" y="0" width="1" height="1">
                                <rect x="0" y="0" width="180" height="180" fill="url(#animated-spiral-pattern)"
                                      transform="translate(-15 -25)"></rect>
                            </pattern>
                            <pattern id="animated-spiral-pattern" x="0" y="0" width="1" height="1">
                                <animateTransform attributeName="patternTransform" attributeType="XML" type="rotate"
                                                  from="360 90 90" to="0 90 90" dur="3s"
                                                  repeatCount="indefinite"></animateTransform>
                                <g id="h-spiral-shape" class="main-heart__spiral"></g>
                            </pattern>
                        </defs>
                        <use xlink:href="#icon_heart" class="main-heart__outline"></use>
                        <use xlink:href="#icon_heart" class="main-heart__shape"></use>
                        <use xlink:href="#icon_heart" class="main-heart__pattern" fill="url(#heart-pattern)"></use>
                    </svg>
                </span><span class="main-title__space"> </span>SVG
            </span>
        </h2>
        <p class="intro__author"><a href="http://noteskeeper.ru/about/">Владимир Кузнецов</a>, Engine6</p>
    </div></section>

    <section class="slide"><div>
        <h2>Какие есть способы отображения&nbsp;SVG?</h2>
        <ul>
            <li class="next">background-image</li>
        </ul>
    </div></section>

    <section class="slide"><div>
        <h2>SVG фоном у элемента</h2>
        <pre>
            <code>.icon {</code>
            <code>  background-image: url('external.svg');</code>
            <code>}</code>
            <code>.another-icon {</code>
            <code>  background-image: url('data:image/svg+xml;base64,&hellip;');</code>
            <code>}</code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Какие есть способы отображения&nbsp;SVG?</h2>
        <ul>
            <li>background-image</li>
            <li class="next">&lt;img&gt;</li>
            <li class="next">&lt;object&gt;, &lt;embed&gt;, &lt;iframe&gt;</li>
        </ul>
    </div></section>

    <section class="slide shout"><div>
        <h2>Встраивание &lt;svg&gt;</h2>
    </div></section>

    <section class="slide"><div>
        <pre>
            <code>&lt;!DOCTYPE html></code>
            <code>&lt;html></code>
            <code>&hellip;</code>
            <code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;</code>
            <code>     viewBox=&quot;0 0 20 20&quot;></code>
            <code>  &lt;path d=&quot;M15 12l-5-5-5 5 1 1 4-4 4 4 1-1z&quot;>&lt;/path></code>
            <code>&lt;/svg></code>
            <code>&hellip;</code>
            <code>&lt;/html></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <div class="slide-example">
            <div class="slide-example__container">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                    <path d="M15 12l-5-5-5 5 1 1 4-4 4 4 1-1z"></path>
                </svg>
            </div>
        </div>
    </div></section>

    <section class="slide shout"><div>
        <h2>&lt;use&gt;</h2>
    </div></section>

    <section class="slide"><div>
        <div class="slide-example">
            <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                <symbol viewBox="0 0 20 20" id="example-nav-up">
                    <path d="M15 12l-5-5-5 5 1 1 4-4 4 4 1-1z"></path>
                </symbol>
            </svg>
            <div class="slide-example__container slide-example__container_1">
                <svg xmlns="http://www.w3.org/2000/svg"><use xlink:href="#example-nav-up"></use></svg>
            </div>
            <div class="slide-example__container slide-example__container_2">
                <svg xmlns="http://www.w3.org/2000/svg"><use fill="red" transform="rotate(90 64 64)" xlink:href="#example-nav-up"></use></svg>
            </div>
            <div class="slide-example__container slide-example__container_3">
                <svg xmlns="http://www.w3.org/2000/svg"><use fill="blue" transform="rotate(180 32 32)" xlink:href="#example-nav-up"></use></svg>
            </div>
        </div>
    </div></section>

    <section class="slide"><div>
        <h2>&lt;defs&gt;</h2>
        <pre>
            <code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;></code>
            <code>  <mark class="important">&lt;defs></mark></code>
            <code>    &lt;path d=&quot;M15 12l-5-5-5 5 1 1 4-4 4 4 1-1z&quot;</code>
            <code>          id=&quot;icon_nav_up&quot;>&lt;/path></code>
            <code>  <mark class="important">&lt;/defs></mark></code>
            <code>&lt;/svg></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>&lt;defs&gt;</h2>
        <pre>
            <code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;></code>
            <code>  &lt;defs></code>
            <code>    &lt;path d=&quot;M15 12l-5-5-5 5 1 1 4-4 4 4 1-1z&quot;</code>
            <code>          <mark class="important">id</mark>=&quot;icon_nav_up&quot;>&lt;/path></code>
            <code>  &lt;/defs></code>
            <code>&lt;/svg></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>&lt;use&gt;</h2>
        <pre>
            <code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;</code>
            <code>     viewBox=&quot;0 0 20 20&quot;></code>
            <code>  &lt;use xlink:href=&quot;<mark class="important">#icon_nav_up</mark>&quot;>&lt;/use></code>
            <code>&lt;/svg></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>&lt;use&gt;</h2>
        <pre>
            <code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;</code>
            <code>     <mark class="important">viewBox</mark>=&quot;0 0 20 20&quot;></code>
            <code>  &lt;use xlink:href=&quot;#icon_nav_up&quot;>&lt;/use></code>
            <code>&lt;/svg></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>&lt;symbol&gt;</h2>
        <pre>
            <code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;></code>
            <code>  &lt;symbol <mark class="important">id</mark>=&quot;icon_nav_up&quot; viewBox=&quot;0 0 20 20&quot;></code>
            <code>    &lt;path d=&quot;M15 12l-5-5-5 5 1 1 4-4 4 4 1-1z&quot;>&lt;/path></code>
            <code>  &lt;/symbol></code>
            <code>&lt;/svg></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>&lt;symbol&gt;</h2>
        <pre>
            <code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;></code>
            <code>  &lt;symbol id=&quot;icon_nav_up&quot; <mark class="important">viewBox</mark>=&quot;0 0 20 20&quot;></code>
            <code>    &lt;path d=&quot;M15 12l-5-5-5 5 1 1 4-4 4 4 1-1z&quot;>&lt;/path></code>
            <code>  &lt;/symbol></code>
            <code>&lt;/svg></code>
        </pre>
    </div></section>

    <section class="slide shout"><div>
        <h2 style="text-indent: -0.45em;">&laquo;Библиотека&raquo; контуров</h2>
    </div></section>

    <section class="slide shout"><div>
        <h2>Почему&nbsp;бы не&nbsp;сослаться на&nbsp;внешний файл?</h2>
    </div></section>

    <section class="slide"><div>
        <h2>&lt;use&gt;</h2>
        <pre>
            <code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;></code>
            <code>  &lt;use xlink:href=&quot;<mark class="important">external.svg#icon_nav_up</mark>&quot;>&lt;/use></code>
            <code>&lt;/svg></code>
        </pre>
    </div></section>

    <section class="slide prohibition-sign"><div>
        <div class="slide-example">
            <div class="slide-example__container slide-example__container_full slide-example__container_shadow_no">
                <svg xmlns="http://www.w3.org/2000/svg">
                    <title>Internet Explorer screwed up again</title>
                    <use class="prohibition-sign__text" xlink:href="#icon_internet_explorer"></use>
                    <use class="prohibition-sign__shape" xlink:href="#icon_prohibition_sign"></use>
                </svg>
            </div>
        </div>
    </div></section>

    <section class="slide"><div>
        <h2>Мы пробовали:</h2>
        <ol>
            <li class="next">менять значение атрибута <code>xlink:href</code> после загрузки страницы;</li>
            <li class="next">асинхронно подгружать SVG-файлы;</li>
            <li class="next">кешировать SVG-файлы в LocalStorage;</li>
            <li class="next">&hellip;</li>
        </ol>
        <p class="next">В итоге нашли оптимальную последовательность действий.</p>
    </div></section>

    <section class="slide"><div>
        <h2>Шаг 1</h2>
        <p>Преобразуем SVG в строку JavaScript</p>
        <pre>
            <code>var icon = '&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;>' +</code>
            <code>  '&lt;symbol id=&quot;icon_nav_up&quot; viewBox=&quot;0 0 20 20&quot;>&lt;pat' +</code>
            <code>  'h d=&quot;M15 12l-5-5-5 5 1 1 4-4 4 4 1-1z&quot;>&lt;/path>&lt;/s' +</code>
            <code>  'ymbol>&lt;/svg>';</code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Шаг 2</h2>
        <p>Подключаем скрипт в &lt;head&gt;</p>
        <pre>
            <code>&lt;script src=&quot;svg-icon.js&quot;>&lt;/script></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Шаг 3</h2>
        <p>Добавляем на страницу пустой &lt;div&gt;</p>
        <pre>
            <code>&lt;div id=&quot;svg-icon-placeholder&quot;>&lt;/div></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Шаг 4</h2>
        <p>Вставляем содержимое строки, которое мы&nbsp;подготовили на&nbsp;первом шаге,
            в&nbsp;элемент, который мы&nbsp;добавили на&nbsp;третьем шаге.</p>
        <pre>
            <code>&lt;script></code>
            <code>  document.getElementById('svg-icon-placeholder')</code>
            <code>    .innerHTML(icon);</code>
            <code>&lt;/script></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Важно:</h2>
        <ul>
            <li class="next">добавить пиктограммы до&nbsp;того, как они будут использованы на странице;</li>
            <li class="next">соблюсти уникальность ID в пределах документа;</li>
            <li class="next">позаботиться об экранировании и валидности.</li>
        </ul>
    </div></section>

    <section class="slide shout"><div>
        <h2>Автоматизируем процесс</h2>
    </div></section>

    <section class="slide"><div>
        <h2><a href="https://www.npmjs.org/package/grunt-svg2string">grunt-svg2string</a></h2>
        <ol>
            <li class="next">преобразует содержимое файла в строку;</li>
            <li class="next">объединяет несколько файлов в один;</li>
            <li class="next">конвертирует отдельные SVG в &lt;symbol&gt;.</li>
        </ol>
    </div></section>

    <!-- Demo -->

    <section class="slide shout"><div>
        <h2>Демонстрация</h2>
    </div></section>

    <section class="slide demo-color"><div>
        <span class="next demo-color__trigger"></span>
        <span class="next demo-color__reset"></span>
        <span class="next demo-color__trigger extra"></span>
        <span class="next demo-color__reset extra"></span>
        <svg xmlns="http://www.w3.org/2000/svg" class="demo-color__target demo-heart">
            <use xlink:href="#icon_heart" class="demo-heart__shape"></use>
        </svg>
        <pre>
            <code>.icon {</code>
            <code>  transition: fill 0.5s;</code>
            <code>}</code>
            <code>.icon:hover {</code>
            <code>  fill: blue;</code>
            <code>}</code>
        </pre>
        <pre>
            <code>&lt;svg class=&quot;icon&quot;></code>
            <code>  &lt;use xlink:href="#icon_heart">&lt;/use></code>
            <code>&lt;/svg></code>
        </pre>
    </div></section>

    <section class="slide demo-scale"><div>
        <span class="next demo-scale__trigger"></span>
        <span class="next demo-scale__reset"></span>
        <span class="next demo-scale__trigger extra"></span>
        <span class="next demo-scale__reset extra"></span>
        <svg xmlns="http://www.w3.org/2000/svg" class="demo-scale__target demo-heart">
            <use xlink:href="#icon_heart" class="demo-heart__shape"></use>
        </svg>
        <pre>
            <code>.icon {</code>
            <code>  transition: transform 0.5s;</code>
            <code>}</code>
            <code>.icon:hover {</code>
            <code>  transform: scale(1.75);</code>
            <code>}</code>
        </pre>
        <pre>
            <code>&lt;svg class=&quot;icon&quot;></code>
            <code>  &lt;use xlink:href="#icon_heart">&lt;/use></code>
            <code>&lt;/svg></code>
        </pre>
    </div></section>

    <section class="slide demo-scale-use"><div>
        <span class="next demo-scale-use__trigger"></span>
        <span class="next demo-scale-use__reset"></span>
        <span class="next demo-scale-use__trigger extra"></span>
        <span class="next demo-scale-use__reset extra"></span>
        <svg xmlns="http://www.w3.org/2000/svg" class="demo-scale-use__target demo-heart">
            <use xlink:href="#icon_heart" class="demo-heart__shape"></use>
        </svg>
        <pre>
            <code>.icon > use {</code>
            <code>  transition: transform 0.5s;</code>
            <code>}</code>
            <code>.icon:hover > use {</code>
            <code>  transform: scale(1.75);</code>
            <code>}</code>
        </pre>
        <pre>
            <code>&lt;svg class=&quot;icon&quot;></code>
            <code>  &lt;use xlink:href="#icon_heart">&lt;/use></code>
            <code>&lt;/svg></code>
        </pre>
    </div></section>

    <section class="slide demo-scale-origin"><div>
        <span class="next demo-scale-origin__trigger"></span>
        <span class="next demo-scale-origin__reset"></span>
        <span class="next demo-scale-origin__trigger extra"></span>
        <span class="next demo-scale-origin__reset extra"></span>
        <svg xmlns="http://www.w3.org/2000/svg" class="demo-scale-origin__target demo-heart">
            <use xlink:href="#icon_heart" class="demo-heart__shape"></use>
        </svg>
        <pre>
            <code>.icon {</code>
            <code>  transition: transform 0.5s;</code>
            <code>  transform-origin: 100% 0;</code>
            <code>}</code>
            <code>.icon:hover {</code>
            <code>  transform: scale(1.75);</code>
            <code>}</code>
        </pre>
    </div></section>

    <section class="slide demo-parts"><div>
        <span class="next demo-parts__trigger"></span>
        <span class="next demo-parts__reset"></span>
        <span class="next demo-parts__trigger extra"></span>
        <span class="next demo-parts__reset extra"></span>
        <svg xmlns="http://www.w3.org/2000/svg" class="demo-parts__target demo-heart">
            <use xlink:href="#icon_heart_broken_left" class="demo-parts__piece demo-parts__piece_left"></use>
            <use xlink:href="#icon_heart_broken_right" class="demo-parts__piece demo-parts__piece_right"></use>
        </svg>
        <pre>
            <code>&lt;svg class=&quot;icon&quot;></code>
            <code>  &lt;use xlink:href="#icon_heart_left"</code>
            <code>       class="icon__left>&lt;/use></code>
            <code>  &lt;use xlink:href="#icon_heart_right"</code>
            <code>       class="icon__right>&lt;/use></code>
            <code>&lt;/svg></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <pre>
            <code>&lt;svg&gt;</code>
            <code>  &lt;defs&gt;</code>
            <code>    &lt;symbol id=&quot;icon-1&quot;&gt;</code>
            <code>      &lt;g class=&quot;group-1&quot;&gt;&hellip;&lt;/g&gt;</code>
            <code>      &lt;g class=&quot;group-2&quot;&gt;&hellip;&lt;/g&gt;</code>
            <code>    &lt;/symbol&gt;</code>
            <code>    &lt;p class=&quot;path&quot; d=&quot;&hellip;&quot;&gt;&lt;/p&gt;</code>
            <code>  &lt;/defs&gt;</code>
            <code>&lt;/svg&gt;</code>
        </pre>
    </div></section>

    <!-- /Demo -->

    <section class="slide shout"><div>
        <h2>
            &lt;use/&gt;<br/>vs.<br>&ltuse&gt;&lt;/use&gt;
        </h2>
    </div></section>

    <section class="slide shout"><div>
        <h2>Альтернативы для старых браузеров</h2>
    </div></section>

    <section class="slide"><div>
        <h2>Альтернативная пиктограмма</h2>
        <pre>
            <code>.icon {</code>
            <code>  display: inline-block; <mark class="comment">/* или block */</mark></code>
            <code>  width: 32px;</code>
            <code>  height: 32px;</code>
            <code>}</code>
            <code>.no-svg .icon {</code>
            <code>  background: url('icon.png') no-repeat 0 0;</code>
            <code>}</code>
        </pre>
    </div></section>

    <section class="slide shout"><div>
        <h2>Доступность содержимого</h2>
    </div></section>

    <section class="slide"><div>
        <h2>&lt;svg&gt;</h2>
        <pre>
            <code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;></code>
            <code>  &lt;title>Search&lt;/title></code>
            <code>  &lt;desc>Sitewide keyword search&lt;/desc></code>
            <code>  &hellip;</code>
            <code>&lt;/svg></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Спасибо!</h2>
        <h3>Владимир Кузнецов</h3>
        <p>
            <a href="http://noteskeeper.ru/">noteskeeper.ru</a><br>
            <a href="https://twitter.com/mista_k">@mista_k</a>
        </p>
        <p>
            <a target="_blank" href="http://shwr.me/" style="background: none;">
                <img src="assets/images/shower-logo.svg" style="width: 60px; height: 60px;">
            </a>
        </p>
    </div></section>

    <!--
        To hide progress bar from entire presentation
        just remove “progress” element.
        -->
    <div class="progress"><div></div></div>
    <script src="assets/js/spiral.js"></script>
    <script src="node_modules/shower-core/shower.min.js"></script>
    <!-- Copyright © 2014 Vladimir Kuznetsov, Engine6 -->
</body>
</html>